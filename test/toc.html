<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="lib/colorTests.css">
<style type="text/css">
.root, .expected, .actual {
  border: 1px dotted gray;
  padding: 2px;
}
</style>
<script src="lib/getElementsByClassName-1.0.1.js"></script>
</head>
<body>
<h1>toc.js tests</h1>
<div id="overall"></div>

<div class="test">
  <h2>Root:</h2>
  <div class="root">
    <section class="chapter" id="id10">
      <h1 class="title">Title 1</h1>
    </section>
    <section class="chapter" id="id11">
      <h1 class="title">Title 2</h1>
    </section>
  </div>

  <h2>Expected:</h2>
  <div class="expected">
    <ol>
      <li><a href="#id10">Title 1</a></li>
      <li><a href="#id11">Title 2</a></li>
    </ol>
  </div>

  <h2>Actual:</h2>
  <div class="actual">
  </div>
</div>

<div class="test">
  <h2>Root:</h2>
  <div class="root">
    <section class="chapter">
      <h1 class="title">Title</h1>
      <h2 class="subtitle">Subtitle</h2>
    </section>
  </div>

  <h2>Expected:</h2>
  <div class="expected">
    <ol>
      <li><a href="#toc2-chapter1">Title Subtitle</a></li>
    </ol>
  </div>

  <h2>Actual:</h2>
  <div class="actual">
  </div>
</div>

<div class="test">
  <h2>Root:</h2>
  <div class="root">
    <section class="chapter">
      <p class="title">Title</p>
      <section class="chapter">
        <p class="title">Inner title</p>
      </section>
    </section>
  </div>

  <h2>Expected:</h2>
  <div class="expected">
    <ol>
      <li><a href="*">Title</a></li>
    </ol>
  </div>

  <h2>Actual:</h2>
  <div class="actual">
  </div>
</div>

<div class="test">
  <h2>Root:</h2>
  <div class="root">
    <h1>Title</h1>
    <p>Some top-level stuff</p>
    <section class="chapter other">
      <h1 class="title">Chapter title</h1>
    </section>
    <p class="notachapter">Some more top-level stuff</p>
  </div>

  <h2>Expected:</h2>
  <div class="expected">
    <ol>
      <li><a href="*">Chapter title</a></li>
    </ol>
  </div>

  <h2>Actual:</h2>
  <div class="actual">
  </div>
</div>

<!-- Copy me 

<div class="test">
  <h2>Root:</h2>
  <div class="root">
  </div>

  <h2>Expected:</h2>
  <div class="expected">
  </div>

  <h2>Actual:</h2>
  <div class="actual">
  </div>
</div>

-->

<script src="../toc.js"></script>
<script>
  var tests = getElementsByClassName("test", "div", document);
  tests.forEach(function(test, i, arr){
    var root = getElementsByClassName("root", null, test)[0];
    var actual = getElementsByClassName("actual", null, test)[0];
    actual.appendChild(buildTOC(root)); 
  });
</script>
<script src="lib/colorTests.js"></script>

</body>
</html>
